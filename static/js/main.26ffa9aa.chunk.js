(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var n=s(1),o=s.n(n),c=s(11),a=s.n(c),r=s(6),i=s(2),l=s(3),u=s(5),d=s(4),p=(s(16),s(0)),m=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).music=new Audio(n.props.sound),n.changeLevelOfVolume=function(e){n.music.volume=parseFloat(e.target.value)},n.playMusic=function(){n.setState({isPlay:!n.state.isPlay},(function(){n.state.isPlay?(n.music.autoplay=!0,n.music.play(),n.music.loop=!0):n.music.pause()}))},n.state={isPlay:!1},n}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"music",children:"Music"}),Object(p.jsx)("input",{id:"music",onInput:this.changeLevelOfVolume,type:"range",className:"volume",max:"1",min:"0",step:"0.01"}),Object(p.jsx)("button",{className:"material-icons",onClick:this.playMusic,children:this.state.isPlay?"pause":"play_arrow"})]})}}]),s}(n.Component),f=s.p+"static/media/weightless.b762cbcd.mp3",h=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"sound",children:"Sound"}),Object(p.jsx)("input",{onInput:this.props.changeSoundVolume,id:"sound",type:"range",min:"0",max:"1",step:"0.01"}),Object(p.jsx)("button",{className:"material-icons",onClick:this.props.toggleSound,children:this.props.isSoundPlay?"pause":"play_arrow"})]})}}]),s}(n.Component),b=(s(18),s(19),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(i.a)(this,s),(e=t.call(this)).start=new Date,e.state={time:0},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.props.startTime()}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"timer",children:this.props.time})}}]),s}(n.Component)),j=(s(20),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"mine-counter",children:this.props.countOfFlags})}}]),s}(n.Component)),v=(s(21),function(){return Object(p.jsx)("button",{className:"button button-smile button_restart-good"})}),O=s(10),g=(s(22),s(23),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){var e={color:["blue","green","red","yellow","pink","black"][this.props.cellValue-1]};return Object(p.jsxs)("div",{className:"cell-wrapper",datapos:this.props.position,children:[Object(p.jsx)("div",{className:"cell cell_hidden"}),Object(p.jsx)("div",{className:"dangerous"===this.props.cellValue?"cell__value material-icons":"cell__value",style:e,children:this.props.cellValue})]})}}]),s}(o.a.Component)),y=s.p+"static/media/left-click.400e8b56.mp3",x=s.p+"static/media/right-click.ecd2da01.mp3",S=function(){var e=function(e){for(var t=Math.pow(e.length,.5),s=Object(r.a)(Object(r.a)(Array(t)).map((function(){return[]}))),n=0;n<t;n+=1)for(var o=0;o<t;o+=1)s[n].push(e[n*t+o]);return s}([].concat(Object(r.a)(Array(9).fill("dangerous")),Object(r.a)(Array(72).fill(0))).sort((function(){return Math.random()-.5})));return function(e){for(var t=0;t<e.length;t+=1)for(var s=0;s<e.length;s+=1)if("dangerous"===e[t][s])for(var n=-1;n<=1;n+=1)for(var o=-1;o<=1;o+=1){var c=t+n>=0&&t+n<e.length,a=s+o>=0&&s+o<e.length;c&&a&&(0!==n||0!==o)&&"dangerous"!==e[t+n][s+o]&&(e[t+n][s+o]=e[t+n][s+o]+1)}}(e),e},w=function(){var e=document.querySelector(".button-smile");e.classList.remove("button_restart-good"),e.classList.add("button_restart-win")},F=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).leftClickSound=new Audio(y),n.rightClickSound=new Audio(x),n.countOfCells=72,n.isFinished=!1,n.isLose=!1,n.openHidEmptyCell=function(e){if(e.childNodes[0].classList.contains("cell_hidden")&&"dangerous"!==e.innerText){var t=function(){if(e.childNodes[0].classList.contains("cell_flag"),e.childNodes[0].classList.remove("cell_hidden","cell_flag"),n.countOfCells-=1,0===n.countOfCells&&(n.isFinished=!0,w(),n.props.stopTime(),n.props.addBestResult(n.props.time)),""!==e.innerText)return{v:void 0};for(var t=e.getAttribute("datapos").split(" ").map((function(e){return parseFloat(e)})),s=Object(O.a)(t,2),o=s[0],c=s[1],a=function(e){for(var t=function(t){o+e>=0&&o+e<9&&(c+t>=0&&c+t<9)&&document.querySelector(".field").childNodes.forEach((function(s){s.getAttribute("datapos")==="".concat(o+e," ").concat(c+t)&&n.openHidEmptyCell(s)}))},s=-1;s<=1;s+=1)t(s)},r=-1;r<=1;r+=1)a(r)}();if("object"===typeof t)return t.v}},n.restart=function(){n.countOfCells=72;var e=S();n.isFinished=!1,document.querySelectorAll(".cell").forEach((function(e){e.classList.add("cell_hidden"),e.classList.remove("cell_flag")})),n.setState({cellsValue:e});var t=document.querySelectorAll(".cell_flag");n.props.removeFlag(9-(n.props.countOfFlags+t.length)),n.props.stopTime(),n.props.resetTime(),function(){var e=document.querySelector(".button-smile");e.classList.remove("button_restart-bad","button_restart-win"),e.classList.add("button_restart-good")}(),n.props.startTime()},n.openHiddenCell=function(e){if(!n.isFinished&&(n.props.isSoundPlay&&n.leftClickSound.play(),e.target.closest(".cell-wrapper"))){e.target.closest(".cell_hidden")&&(e.target.closest(".cell_hidden").classList.contains("cell_flag"),e.target.closest(".cell_hidden").classList.remove("cell_hidden","cell_flag"),n.countOfCells-=1,0===n.countOfCells&&(n.isFinished=!0,w(),n.props.stopTime(),n.props.addBestResult(n.props.time))),"dangerous"===e.target.closest(".cell-wrapper").innerText&&(n.isFinished=!0,function(){var e=document.querySelector(".button-smile");e.classList.remove("button_restart-good"),e.classList.add("button_restart-bad")}(),n.props.stopTime()),""===e.target.closest(".cell-wrapper").innerText&&function(){for(var t=e.target.closest(".cell-wrapper").getAttribute("datapos").split(" ").map((function(e){return parseFloat(e)})),s=Object(O.a)(t,2),o=s[0],c=s[1],a=function(e){for(var t=function(t){o+e>=0&&o+e<9&&(c+t>=0&&c+t<9)&&document.querySelector(".field").childNodes.forEach((function(s){s.getAttribute("datapos")==="".concat(o+e," ").concat(c+t)&&n.openHidEmptyCell(s)}))},s=-1;s<=1;s+=1)t(s)},r=-1;r<=1;r+=1)a(r)}();var t=document.querySelectorAll(".cell_flag");n.props.removeFlag(9-(n.props.countOfFlags+t.length))}},n.addFlag=function(e){if(e.preventDefault(),e.target.closest(".cell_hidden")){var t=e.target.closest(".cell_hidden");n.props.isSoundPlay&&n.rightClickSound.play(),t.classList.contains("cell_flag")?(n.props.removeFlag(1),t.classList.remove("cell_flag")):n.props.countOfFlags>0&&(n.props.addFlag(1),t.classList.add("cell_flag"))}},n.state={cellsValue:S(),countOfCells:72},n}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;document.body.addEventListener("keydown",(function(t){"KeyR"===t.code&&e.restart()})),document.querySelector(".button-smile").addEventListener("click",(function(){e.restart()}))}},{key:"componentDidUpdate",value:function(e,t,s){this.leftClickSound.volume=this.props.soundVolume,this.rightClickSound.volume=this.props.soundVolume}},{key:"render",value:function(){var e=this.state.cellsValue.reduce((function(e,t,s){return e.push.apply(e,Object(r.a)(t.map((function(e,t){return Object(p.jsx)(g,{cellValue:0===e?null:e,position:"".concat(s," ").concat(t)},"".concat(s," ").concat(t))})))),e}),[]);return console.log(e),Object(p.jsx)("div",{className:"field",onClick:this.openHiddenCell,onContextMenu:this.addFlag,children:e})}}]),s}(o.a.Component),_=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).addFlag=function(e){var t=n.state.countOfFlags-e;n.setState({countOfFlags:t})},n.removeFlag=function(e){var t=n.state.countOfFlags+e;n.setState({countOfFlags:t})},n.setTime=function(){n.setState({time:n.state.time+1}),n.stopTimer=setTimeout(n.setTime,1e3)},n.stopTime=function(){clearTimeout(n.stopTimer)},n.resetTime=function(){n.setState({time:0})},n.state={countOfFlags:9,time:0,isStopTime:!1},n}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"field-wrapper",children:[Object(p.jsxs)("div",{className:"field-wrapper__information",children:[Object(p.jsx)(j,{countOfFlags:this.state.countOfFlags}),Object(p.jsx)(v,{}),Object(p.jsx)(b,{startTime:this.setTime,time:this.state.time,setTime:this.setTime})]}),Object(p.jsx)(F,{startTime:this.setTime,stopTime:this.stopTime,isRestart:this.state.restart,resetTime:this.resetTime,time:this.state.time,addBestResult:this.props.addBestResult,soundVolume:this.props.soundVolume,isSoundPlay:this.props.isSoundPlay,countOfFlags:this.state.countOfFlags,removeFlag:this.removeFlag,addFlag:this.addFlag})]})}}]),s}(n.Component),k=(s(24),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("footer",{className:"footer",children:[Object(p.jsx)("a",{href:"https://github.com/Coolcooo",className:"link footer__developer-link",children:" "}),Object(p.jsx)("span",{className:"footer__year",children:"2021"}),Object(p.jsx)("a",{href:"https://rs.school/js/",className:"link footer__rsschool-link",children:" "})]})}}]),s}(n.Component)),C=(s(25),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"score-line",children:[this.props.num+1,". ",this.props.text,"s."]})}}]),s}(n.Component)),T=(s(26),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"score-wrapper",children:[Object(p.jsx)("div",{className:"score",children:"Best Score"}),this.props.bestResults.map((function(e,t){return Object(p.jsx)(C,{num:t,text:e})}))]})}}]),s}(n.Component)),N=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:"Instructions:"}),Object(p.jsx)("div",{children:"R - restart"}),Object(p.jsx)("div",{children:"F - fullscreen"}),Object(p.jsx)("div",{children:"ArrowDown - music volume down"}),Object(p.jsx)("div",{children:"ArrowUp - music volume up"}),Object(p.jsx)("div",{children:"ctrl and ArrowDown - sound volume down"}),Object(p.jsx)("div",{children:"ctrl and ArrowUp - sound volume up"})]})},L=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(i.a)(this,s),(n=t.call(this,e)).toggleSound=function(){var e=!n.state.sound.isSoundPlay;n.setState({sound:{isSoundPlay:e,soundVolume:n.state.sound.soundVolume}})},n.changeVolumeSound=function(e){var t=parseFloat(e.target.value);n.setState({sound:{soundVolume:t,isSoundPlay:n.state.sound.isSoundPlay}})},n.addBestResult=function(e){var t=n.state.bestResults;if(t.length<5){var s=[].concat(Object(r.a)(t),[e]).sort((function(e,t){return e-t}));n.setState({bestResults:s})}else if(t[t.length-1]>e){var o=[].concat(Object(r.a)(t.slice(0,t.length-1)),[e]).sort((function(e,t){return e-t}));n.setState({bestResults:o})}},n.state={isMusicPlay:!1,sound:{soundVolume:1,isSoundPlay:!1},bestResults:[],time:0,restart:!1},n}return Object(l.a)(s,[{key:"componentDidMount",value:function(){document.body.addEventListener("keydown",(function(e){if(e.ctrlKey&&"ArrowDown"===e.code){var t=document.querySelector("#sound");t.value=parseFloat(t.value)-.01,t.dispatchEvent(new Event("input",{bubbles:!0}))}else if(e.ctrlKey&&"ArrowUp"===e.code){var s=document.querySelector("#sound");s.value=parseFloat(s.value)+.01,s.dispatchEvent(new Event("input",{bubbles:!0}))}else if("ArrowDown"===e.code){var n=document.querySelector("#music");n.value=parseFloat(n.value)-.01,n.dispatchEvent(new Event("input",{bubbles:!0}))}else if("ArrowUp"===e.code){var o=document.querySelector("#music");o.value=parseFloat(o.value)+.01,o.dispatchEvent(new Event("input",{bubbles:!0}))}})),document.body.addEventListener("keyup",(function(e){"KeyF"===e.code&&(document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen())}))}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsxs)("div",{className:"helpers-wrapper",children:[Object(p.jsxs)("div",{className:"volume-wrapper",children:[Object(p.jsx)(h,{changeSoundVolume:this.changeVolumeSound,isSoundPlay:this.state.sound.isSoundPlay,toggleSound:this.toggleSound}),Object(p.jsx)(m,{sound:f})]}),Object(p.jsx)(N,{})]}),Object(p.jsx)(_,{addBestResult:this.addBestResult,soundVolume:this.state.sound.soundVolume,isSoundPlay:this.state.sound.isSoundPlay}),Object(p.jsx)(T,{bestResults:this.state.bestResults}),Object(p.jsx)(k,{})]})}}]),s}(n.Component);a.a.render(Object(p.jsx)(L,{}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.26ffa9aa.chunk.js.map